<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>OTP Verification</title>
    <link th:href="@{/css/all.min.css}" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/otp-verification.css}">
</head>
<body>
<div class="otp-container">
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <div class="otp-header">
        <a href="#" class="otp-logo">Admin Panel</a>
        <p class="otp-subtitle">Email Verification</p>
        <p class="otp-description">Please enter the verification code we sent to your email</p>
    </div>

    <!-- Progress Indicator -->
    <div class="verification-progress">
        <div class="progress-dots">
            <div class="progress-dot active"></div>
            <div class="progress-dot active"></div>
            <div class="progress-dot active"></div>
            <div class="progress-dot"></div>
        </div>
    </div>

    <!-- Info Message -->
    <div class="alert alert-info">
        <i class="fas fa-envelope"></i>
        <span>We've sent a 6-digit verification code to <span class="email-highlight" th:text="${email}">your.email@example.com</span></span>
        <button type="button" class="close" onclick="this.parentElement.remove();">&times;</button>
    </div>

    <!-- Success Message -->
    <div th:if="${successMessage}" class="alert alert-success">
        <i class="fas fa-check-circle"></i>
        <span th:text="${successMessage}">Success message here</span>
        <button type="button" class="close" onclick="this.parentElement.remove();">&times;</button>
    </div>

    <!-- Error Message -->
    <div th:if="${errorMessage}" class="alert alert-danger">
        <i class="fas fa-exclamation-triangle"></i>
        <span th:text="${errorMessage}">Error message here</span>
        <button type="button" class="close" onclick="this.parentElement.remove();">&times;</button>
    </div>

    <!-- OTP Verification Form -->
    <form th:action="@{/auth/admin/verify-otp}" method="post" id="otpForm">
        <input type="hidden" name="email" th:value="${email}" value="user@example.com">

        <div class="otp-section">
            <label class="otp-label">Enter your 6-digit code</label>
            <div class="otp-input-container">
                <input type="text" class="otp-input" maxlength="1" pattern="[0-9]" inputmode="numeric">
                <input type="text" class="otp-input" maxlength="1" pattern="[0-9]" inputmode="numeric">
                <input type="text" class="otp-input" maxlength="1" pattern="[0-9]" inputmode="numeric">
                <input type="text" class="otp-input" maxlength="1" pattern="[0-9]" inputmode="numeric">
                <input type="text" class="otp-input" maxlength="1" pattern="[0-9]" inputmode="numeric">
                <input type="text" class="otp-input" maxlength="1" pattern="[0-9]" inputmode="numeric">
            </div>
            <input type="hidden" name="otp" id="combinedOtp">
        </div>

        <!-- Countdown Timer -->
        <div class="countdown-section">
            <div class="countdown-text">
                <i class="fas fa-clock"></i>
                <span>Code expires in: <span class="timer" id="timer">05:00</span></span>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="form-actions">
            <button type="button" id="resendBtn" class="btn btn-resend" disabled>
                <i class="fas fa-redo"></i>
                <span>Resend Code</span>
            </button>
            <button type="submit" class="btn btn-verify" id="verifyBtn" disabled>
                <i class="fas fa-check-circle"></i>
                <span>Verify Code</span>
            </button>
        </div>
    </form>

    <!-- Help Section -->
    <div class="help-section">
        <p class="help-text">
            <i class="fas fa-info-circle"></i>
            Didn't receive the code? Check your spam folder or request a new one.
        </p>
        <a th:href="@{/auth/admin/register}" class="back-link">
            <i class="fas fa-arrow-left"></i>
            <span>Back to Registration</span>
        </a>
    </div>
</div>

<script th:src="@{/js/otp-verification.js}"></script>
<script th:src="@{/js/jquery.min.js"></script>
</body>
</html>

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <div th:replace="~{patials/head :: head}"></div>
</head>
<body class="hold-transition skin-blue sidebar-mini">
<!-- Site wrapper -->
<div class="wrapper">
  <!-- Header -->
  <div th:replace="~{patials/header :: header}"></div>

  <!-- Left side column. contains the sidebar -->
  <div th:replace="~{patials/sidebar :: sidebar}"></div>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper" style="margin-top: 50px; padding-top: 0;">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <!-- Search form -->
      <div class="search-container" style="min-width: 550px; display: flex; align-items: center; padding: 20px; margin-bottom: 20px;">
        <select id="searchType" class="form-control" style="max-width: 150px; padding: 10px; border-radius: 5px; border: 1px solid #007bff;">
          <option value="customers" selected>Customers</option>
          <option value="products">Products</option>
          <option value="orders">Orders</option>
          <option value="suppliers">Suppliers</option>
        </select>

        <input id="searchInput" type="text" class="form-control" name="navbarsearch"
               placeholder="Nhập từ khóa tìm kiếm..."
               style="border-radius: 5px; border: 1px solid #007bff; margin-left: 10px; height: 40px; width: 250px;">

        <button class="btn btn-primary" type="button" onclick="searchProduct()"
                style="margin-left: 10px; padding: 10px 20px; border-radius: 5px;">
          <i class="fa fa-search"></i> Tìm kiếm
        </button>
      </div>

      <!-- Breadcrumb -->
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
        <li><a href="#">Dashboard</a></li>
        <li class="active">Trang chủ</li>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content">
      <!-- Default box -->
      <div class="box box-primary">
        <div class="box-header with-border">
          <h3 class="box-title">Chào mừng đến với Samsung Store</h3>

          <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="Thu gọn">
              <i class="fa fa-minus"></i>
            </button>
            <button type="button" class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Xóa">
              <i class="fa fa-times"></i>
            </button>
          </div>
        </div>

        <div class="box-body">
          <div class="row">
            <div class="col-md-12">
              <h4>Bắt đầu quản lý cửa hàng của bạn!</h4>
              <p>Sử dụng menu bên trái để điều hướng đến các chức năng:</p>
              <ul class="list-unstyled">
                <li><i class="fa fa-users text-blue"></i> <strong>Customers:</strong> Quản lý khách hàng</li>
                <li><i class="fa fa-cubes text-green"></i> <strong>Products:</strong> Quản lý sản phẩm</li>
                <li><i class="fa fa-truck text-orange"></i> <strong>Suppliers:</strong> Quản lý nhà cung cấp</li>
                <li><i class="fa fa-shopping-cart text-red"></i> <strong>Orders:</strong> Quản lý đơn hàng</li>
                <li><i class="fa fa-user-tie text-purple"></i> <strong>Employee:</strong> Quản lý nhân viên</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="box-footer">
          <small class="text-muted">Samsung Store Management System © 2024</small>
        </div>
      </div>
      <!-- /.box -->

      <!-- Quick stats boxes -->
      <div class="row">
        <div class="col-lg-3 col-xs-6">
          <div class="small-box bg-aqua">
            <div class="inner">
              <h3 id="totalCustomers">0</h3>
              <p>Khách hàng</p>
            </div>
            <div class="icon">
              <i class="ion ion-person-add"></i>
            </div>
            <a href="/customers" class="small-box-footer">Xem thêm <i class="fa fa-arrow-circle-right"></i></a>
          </div>
        </div>

        <div class="col-lg-3 col-xs-6">
          <div class="small-box bg-green">
            <div class="inner">
              <h3 id="totalProducts">0</h3>
              <p>Sản phẩm</p>
            </div>
            <div class="icon">
              <i class="ion ion-bag"></i>
            </div>
            <a href="/products" class="small-box-footer">Xem thêm <i class="fa fa-arrow-circle-right"></i></a>
          </div>
        </div>

        <div class="col-lg-3 col-xs-6">
          <div class="small-box bg-yellow">
            <div class="inner">
              <h3 id="totalOrders">0</h3>
              <p>Đơn hàng</p>
            </div>
            <div class="icon">
              <i class="ion ion-stats-bars"></i>
            </div>
            <a href="/orders" class="small-box-footer">Xem thêm <i class="fa fa-arrow-circle-right"></i></a>
          </div>
        </div>

        <div class="col-lg-3 col-xs-6">
          <div class="small-box bg-red">
            <div class="inner">
              <h3 id="totalSuppliers">0</h3>
              <p>Nhà cung cấp</p>
            </div>
            <div class="icon">
              <i class="ion ion-pie-graph"></i>
            </div>
            <a href="/suppliers" class="small-box-footer">Xem thêm <i class="fa fa-arrow-circle-right"></i></a>
          </div>
        </div>
      </div>
    </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

  <!-- Footer -->
  <footer class="main-footer">
    <div class="pull-right hidden-xs">
      <b>Version</b> 1.0.0
    </div>
    <strong>Copyright &copy; 2024 <a href="#">Samsung Store</a>.</strong> All rights reserved.
  </footer>
</div>
<!-- ./wrapper -->

<!-- Scripts -->
<div th:replace="~{patials/script :: script}"></div>

<!-- Custom JavaScript -->
<script>
  function searchProduct() {
      const searchType = document.getElementById('searchType').value;
      const searchInput = document.getElementById('searchInput').value.trim();

      if (!searchInput) {
          alert('Vui lòng nhập từ khóa tìm kiếm!');
          return;
      }

      // Redirect to appropriate search page based on type
      window.location.href = `/${searchType}?search=${encodeURIComponent(searchInput)}`;
  }

  // Allow Enter key to trigger search
  document.getElementById('searchInput').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
          searchProduct();
      }
  });

  // Load dashboard statistics (you can implement this with AJAX)
  document.addEventListener('DOMContentLoaded', function() {
      // Example: Load statistics via AJAX
      // loadDashboardStats();
  });

  function loadDashboardStats() {
      // Implement AJAX calls to get real statistics
      // Example:
      /*
      fetch('/api/dashboard/stats')
          .then(response => response.json())
          .then(data => {
              document.getElementById('totalCustomers').textContent = data.customers || 0;
              document.getElementById('totalProducts').textContent = data.products || 0;
              document.getElementById('totalOrders').textContent = data.orders || 0;
              document.getElementById('totalSuppliers').textContent = data.suppliers || 0;
          });
      */
  }
</script>
</body>
</html>
